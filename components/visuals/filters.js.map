{"version":3,"file":"filters.js","sources":["wrapper/wrapper.js","utility/asset.js","utility/group.js","uniforms/source.js","uniforms/midi.js","uniforms/time.js","uniforms/analyser.js","uniforms/generic-float.js","prototype.js","effects/dynamicTexture.js","effects/staticTexture.js","effects/splitx.js","effects/gradient.js","effects/main.js","distorts/rotate.js","distorts/wave.js","distorts/zoom.js","filters.es6.js"],"sourcesContent":["/* global THREE, Detector, HTMLElementPlus */\nconst w = 480;\nconst h = 320;\n\nfunction toggleFullScreen(el) {\n\tconst doc = window.document;\n\tel = el || doc.documentElement;\n\n\tconst requestFullScreen = el.requestFullscreen || el.mozRequestFullScreen || el.webkitRequestFullScreen || el.msRequestFullscreen;\n\tconst cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;\n\n\tif(!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {\n\t  requestFullScreen.call(el);\n\t}\n\telse {\n\t  cancelFullScreen.call(doc);\n\t}\n}\n\nconst vjOTGVisuals = document.createElement('template');\nvjOTGVisuals.innerHTML = `\n\t<style>\n\tvj-otg-assets {\n\t\tdisplay: none;\n\t}\n\t:host {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: relative;\n\t\tdisplay: block;\n\t}\n\t:host:-webkit-full-screen {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t}\n\t:host button[ref=\"fullscreenbtn\"] {\n\t\tposition: absolute;\n\t\tbottom: 1em; right: 1em;\n\t\tpadding: 1em;\n\t\tborder: 2px solid;\n    \tborder-image: linear-gradient(120deg, hsla(272, 94%, 70%, 1.0), hsla(194, 89%, 56%, 1.0), hsla(150, 92%, 54%, 1.0)) 5;\n    \tborder-radius: 2px;\n    \tbackground-color: hsla(210, 25%, 98%, 1.0);\n    \tbackground-image:linear-gradient(0deg, hsla(210, 25%, 96%, 1.0), hsla(210, 25%, 98%, 1.0));\n\t}\n\t</style>\n\t<slot></slot>\n\t<button ref=\"fullscreenbtn\">Go Fullscreen</button>\n`;\n\nif (window.ShadyCSS) {\n\twindow.ShadyCSS.prepareTemplate(vjOTGVisuals, 'vj-otg-visuals');\n}\n\nconst glslFunctionSet = new Set();\n\nclass VJOTGVisuals extends HTMLElementPlus {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.uniforms = {};\n\n\t\tthis.tabIndex = 0;\n\t\tthis.attachShadow({ mode: 'open' });\n\t\tthis.shadowRoot.appendChild(vjOTGVisuals.content.cloneNode(true));\n\n\t\tif (!Detector.webgl) {\n\t\t\tDetector.addGetWebGLMessage();\n\t\t\treturn true;\n\t\t}\n\t\tconst renderer = new THREE.WebGLRenderer({\n\t\t\tantialias: false,\n\t\t\tpreserveDrawingBuffer: false\n\t\t});\n\t\trenderer.setClearColor(0xbbbbbb);\n\t\trenderer.setSize(480, 320);\n\t\tthis.shadowRoot.appendChild(renderer.domElement);\n\n\t\tthis.shadowRoot.appendChild(this.refs.fullscreenbtn);\n\t\tthis.refs.fullscreenbtn.addEventListener('click', () => toggleFullScreen(this));\n\n\t\trenderer.domElement.style.width = '100%';\n\t\trenderer.domElement.style.height = '100%';\n\t\trenderer.domElement.style.objectFit = 'cover';\n\n\t\t//            WEBGL\n\t\t// ---------------------------\n\n\t\t// create a scene\n\t\tconst scene = new THREE.Scene();\n\n\t\t// put a camera in the scene\n\t\tconst cameraH = 3;\n\t\tconst cameraW = cameraH / h * w;\n\t\tconst camera = new THREE.OrthographicCamera(\n\t\t\t-cameraW / 2,\n\t\t\t+cameraW / 2,\n\t\t\tcameraH / 2,\n\t\t\t-cameraH / 2,\n\t\t\t-10000,\n\t\t\t10000\n\t\t);\n\t\tcamera.position.set(0, 0, 5);\n\t\tscene.add(camera);\n\n\t\tconst light = new THREE.AmbientLight(Math.random() * 0xffffff);\n\t\tscene.add(light);\n\n\t\tconst geometry = new THREE.PlaneGeometry(cameraW, cameraH);\n\n\t\tthis.dirty = true;\n\t\tconst material = new THREE.MeshBasicMaterial();\n\t\tthis.mesh = new THREE.Mesh(geometry, material);\n\t\tscene.add(this.mesh);\n\n\t\t// animation loop\n\t\tthis.i = 0;\n\n\t\tthis.__animate = this.__animate.bind(this);\n\t\tthis.__renderer = renderer;\n\t\tthis.__scene = scene;\n\t\tthis.__camera = camera;\n\t\trequestAnimationFrame(this.__animate);\n\t}\n\n\t__animate() {\n\t\trequestAnimationFrame(this.__animate);\n\n\t\tif (this.dirty) {\n\t\t\tthis.mesh.material = this.generateShader();\n\t\t\tthis.dirty = false;\n\t\t}\n\n\t\tconst material = this.mesh.material;\n\n\t\tfor (const el of this.children) {\n\t\t\tif (el.rafFn) el.rafFn();\n\t\t}\n\n\t\tmaterial.needsUpdate = true;\n\t\tthis.__render();\n\t}\n\n\tgenerateShader() {\n\n\t\tconst chunks = Array.from(this.querySelectorAll('*')).filter(el => el.tagName.match(/^vj-otg-/i))\n\t\t\t.map(el => {\n\t\t\t\tif (el.constructor.glslFunction) {\n\t\t\t\t\tglslFunctionSet.add(el.constructor.glslFunction());\n\t\t\t\t}\n\t\t\t\treturn el.shaderChunks\n\t\t\t})\n\t\t\t.filter(chunk => !!chunk);\n\n\t\tconst source = chunks\n\t\t\t.map(a => a.source)\n\t\t\t.filter(chunk => !!chunk)\n\t\t\t.join('\\n\\t');\n\n\t\tconst sourceFn = `\nvec4 getSource(int i, vec2 uv) {\n\t${source}\n}\n\t\t`;\n\t\tconst uniforms = chunks\n\t\t\t.map(a => a.uniforms)\n\t\t\t.filter(chunk => !!chunk)\n\t\t\t.join('\\n');\n\t\tconst main = chunks\n\t\t\t.map(a => a.main)\n\t\t\t.filter(chunk => !!chunk)\n\t\t\t.join('\\n\\n\t\t\t');\n\n\t\tconst fragmentShader =\n\t\t\t`\n\t\t\t#define USE_MAP true\n\t\t\tvarying vec2 vUv;\n\n\t\t\t// Constants for Maths\n\t\t\tconst float PI = 3.1415926535897932384626433832795;\n\t\t\tconst float deg2rad = PI/180.0;\n\t\t\tconst vec2 centerCoord = vec2(0.5, 0.5);\n\t\t\tconst vec3 normaliseHSL = vec3(1.0/360.0, 1.0, 1.0);\n\t\t\tconst vec3 noopVec3 = vec3(1.0, 1.0, 1.0);\n\t\t\tconst vec4 noopVec4 = vec4(1.0, 1.0, 1.0, 1.0);\n\n\t\t\t// Uniforms\n\t\t` +\n\t\t\tuniforms +\n\t\t\tsourceFn +\n\t\t\tArray.from(glslFunctionSet).join('\\n\\n') +\n\t\t\tshaderChunks.noise +\n\t\t\t`\n\t\t\tvoid main() {\n\n\t\t\t\t// Change this to skew or warp the texture\n\t\t\t\tvec2 newUV = vUv + vec2(0.0, 0.0);\n\n\t\t\t\tgl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\t\t\t\t` +\n\t\t\tmain +\n\t\t\t`\n\t\t\t}\n\t\t`;\n\n\t\tfragmentShader\n\t\t\t.split('\\n')\n\t\t\t.map((l, i) => console.log(i + 101 + ': ' + l))\n\n\t\treturn new THREE.ShaderMaterial({\n\t\t\tuniforms: this.uniforms,\n\t\t\tvertexShader: `\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}\n\t\t\t`,\n\t\t\tfragmentShader: fragmentShader\n\t\t});\n\t}\n\n\t// render the scene\n\t__render() {\n\t\tthis.__renderer.render(this.__scene, this.__camera);\n\t}\n}\n\nconst shaderChunks = {};\n\nshaderChunks.noise = `\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n\treturn x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n\treturn mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r) {\n\treturn 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v) {\n\tconst vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n\tconst vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n\t// First corner\n\tvec3 i  = floor(v + dot(v, C.yyy) );\n\tvec3 x0 =   v - i + dot(i, C.xxx) ;\n\n\t// Other corners\n\tvec3 g = step(x0.yzx, x0.xyz);\n\tvec3 l = 1.0 - g;\n\tvec3 i1 = min( g.xyz, l.zxy );\n\tvec3 i2 = max( g.xyz, l.zxy );\n\n\t//   x0 = x0 - 0.0 + 0.0 * C.xxx;\n\t//   x1 = x0 - i1  + 1.0 * C.xxx;\n\t//   x2 = x0 - i2  + 2.0 * C.xxx;\n\t//   x3 = x0 - 1.0 + 3.0 * C.xxx;\n\tvec3 x1 = x0 - i1 + C.xxx;\n\tvec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n\tvec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n\t// Permutations\n\ti = mod289(i);\n\tvec4 p = permute( permute( permute(\n\ti.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n\t+ i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n\t+ i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n\t// Gradients: 7x7 points over a square, mapped onto an octahedron.\n\t// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n\tfloat n_ = 0.142857142857; // 1.0/7.0\n\tvec3  ns = n_ * D.wyz - D.xzx;\n\n\tvec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n\tvec4 x_ = floor(j * ns.z);\n\tvec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n\tvec4 x = x_ *ns.x + ns.yyyy;\n\tvec4 y = y_ *ns.x + ns.yyyy;\n\tvec4 h = 1.0 - abs(x) - abs(y);\n\n\tvec4 b0 = vec4( x.xy, y.xy );\n\tvec4 b1 = vec4( x.zw, y.zw );\n\n\t//vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n\t//vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n\tvec4 s0 = floor(b0)*2.0 + 1.0;\n\tvec4 s1 = floor(b1)*2.0 + 1.0;\n\tvec4 sh = -step(h, vec4(0.0));\n\n\tvec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n\tvec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n\tvec3 p0 = vec3(a0.xy,h.x);\n\tvec3 p1 = vec3(a0.zw,h.y);\n\tvec3 p2 = vec3(a1.xy,h.z);\n\tvec3 p3 = vec3(a1.zw,h.w);\n\n\t//Normalise gradients\n\tvec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n\tp0 *= norm.x;\n\tp1 *= norm.y;\n\tp2 *= norm.z;\n\tp3 *= norm.w;\n\n\t// Mix final noise value\n\tvec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n\tm = m * m;\n\treturn 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n\t\tdot(p2,x2), dot(p3,x3) ) );\n}\n`;\n\nexport default VJOTGVisuals;\ncustomElements.define('vj-otg-visuals', VJOTGVisuals);","/* global HTMLElementPlus */\n\n/**\n * Used for storing images and videos to be referenced later\n */\n\nconst assetTemplate = document.createElement('template');\nassetTemplate.innerHTML = '<slot></slot>';\n\n/**\n * Just hides the contents.\n */\nconst assetsTemplate = document.createElement('template');\nassetsTemplate.innerHTML = '<div style=\"display:none;\"><slot></slot></div>';\nclass VJOTGAssets extends HTMLElementPlus {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.attachShadow({ mode: 'open' });\n\t\tthis.shadowRoot.appendChild(assetsTemplate.content.cloneNode(true));\n\t}\n}\n\ncustomElements.define('vj-otg-assets', VJOTGAssets);\nexport default VJOTGAssets;","/* global HTMLElementPlus */\n\n/**\n * Provides VJ-OTG-Group used for changing what vj-otg-filter is applied to\n * Allowing us to effectively group effects.\n */\n\nconst groupTemplate = document.createElement('template');\ngroupTemplate.innerHTML = '<slot></slot>';\n\nclass VJOTGGroup extends HTMLElementPlus {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.attachShadow({ mode: 'open' });\n\t\tthis.shadowRoot.appendChild(groupTemplate.content.cloneNode(true));\n\t\tthis.uniforms = this.parentNode.uniforms;\n\t}\n\tstatic get observedAttributes() {\n\t\treturn ['name'];\n\t}\n\tattributeChangedCallback(attr, oldValue, newValue) {\n\t\tthis.glLayerName = newValue;\n\t\tthis.shaderChunks = {\n\t\t\t// Give this layer a Vector to write the effects to and reset the UV\n\t\t\tmain: `vec4 ${this.glLayerName} = vec4(1.0, 1.0, 1.0, 1.0); newUV = vUv;`\n\t\t};\n\t}\n}\n\ncustomElements.define('vj-otg-group', VJOTGGroup);\nexport default VJOTGGroup;","'use strict';\n/* global HTMLElementPlus, THREE */\n\n/**\n * Used for defining a special type of uniforms. Textures. \n * These can be accessed using the texture sampler in the glsl code.\n */\n\nclass VJOTGSource extends HTMLElementPlus {\n\tconstructor() {\n\t\tsuper();\n\t}\n\tstatic get observedAttributes() {\n\t\treturn ['type', 'src', 'index', 'name'];\n\t}\n\tallAttributesChangedCallback(glAttributes) {\n\n\t\tif (\n\t\t\tglAttributes.type === 'texture' &&\n\t\t\tglAttributes.src &&\n\t\t\tglAttributes.index &&\n\t\t\tglAttributes.name\n\t\t) {\n\t\t\tconst source = this.parentNode.querySelector(glAttributes.src);\n\t\t\tlet texture;\n\t\t\tif (source.tagName === 'VIDEO') {\n\t\t\t\twindow.addEventListener('click', () => source.play());\n\t\t\t\ttexture = new THREE.VideoTexture(source);\n\t\t\t}\n\t\t\tif (source.tagName === 'IMG') {\n\t\t\t\ttexture = new THREE.Texture(source);\n\t\t\t\tsource.addEventListener('load', () => (texture.needsUpdate = true), {\n\t\t\t\t\tonce: true\n\t\t\t\t});\n\t\t\t}\n\t\t\ttexture.minFilter = THREE.LinearFilter;\n\t\t\ttexture.magFilter = THREE.LinearFilter;\n\t\t\ttexture.wrapS = THREE.RepeatWrapping;\n\t\t\ttexture.wrapT = THREE.RepeatWrapping;\n\t\t\ttexture.format = THREE.RGBFormat;\n\n\t\t\tconst uniform = this.parentNode.uniforms[glAttributes.name] || {\n\t\t\t\ttype: 't'\n\t\t\t};\n\t\t\tuniform.value = texture;\n\t\t\tthis.parentNode.uniforms[glAttributes.name] = uniform;\n\t\t\tthis.parentNode.dirty = true;\n\n\t\t\tthis.shaderChunks = {\n\t\t\t\tuniforms: `uniform sampler2D ${glAttributes.name};`,\n\t\t\t\tsource: `if (i == ${glAttributes.index}) return texture2D(${glAttributes.name}, uv);`\n\t\t\t};\n\t\t}\n\t}\n}\n\ncustomElements.define('vj-otg-source-uniform', VJOTGSource);\nexport default VJOTGSource;","/* global HTMLElementPlus */\n\nclass VJOTGMidiUniform extends HTMLElementPlus {\n\tconstructor() {\n\t\tsuper();\n\t}\n\tstatic get observedAttributes() {\n\t\treturn ['name', 'midi-el'];\n\t}\n\tallAttributesChangedCallback(glAttributes) {\n\t\t\n\t\tconst uniform = this.parentNode.uniforms[glAttributes.name] || {\n\t\t\ttype: 'f',\n\t\t\tvalue: 0\n\t\t};\n\n\t\tif (this.__listeningToEl) {\n\t\t\tthis.__listeningToEl.removeEventListener('midiMsg', this.__listenerFn);\n\t\t}\n\n\t\tthis.__listeningToEl = document.querySelector(glAttributes['midi-el']);\n\n\t\tif (!this.__listeningToEl) throw Error('No element found with selector: ' + glAttributes['midi-el']);\n\t\tthis.__listenerFn = function (e) {\n\t\t\tuniform.value = e.detail.data[2] / 127;\n\t\t};\n\t\tthis.__listeningToEl.addEventListener('midiMsg', this.__listenerFn);\n\n\t\tthis.parentNode.uniforms[glAttributes.name] = uniform;\n\t\tthis.shaderChunks = {\n\t\t\tuniforms: `uniform float ${glAttributes.name};`\n\t\t};\n\t}\n}\n\ncustomElements.define('vj-otg-midi-uniform', VJOTGMidiUniform);\nexport default VJOTGMidiUniform","/* global HTMLElementPlus */\n\nclass VJOTGUniformTime extends HTMLElementPlus {\n\tconstructor() {\n\t\tsuper();\n\t}\n\tstatic get observedAttributes() {\n\t\treturn [];\n\t}\n\tallAttributesChangedCallback() {\n\t\tconst timeUniform = this.parentNode.uniforms.time || {\n\t\t\ttype: 'f',\n\t\t\tvalue: 0\n\t\t};\n\t\tthis.parentNode.uniforms.time = timeUniform;\n\t\tthis.shaderChunks = {\n\t\t\tuniforms: 'uniform float time;'\n\t\t};\n\t\tconst now = Date.now();\n\t\tthis.rafFn = function() {\n\t\t\ttimeUniform.value = (Date.now() - now) / 1000;\n\t\t};\n\t}\n}\n\ncustomElements.define('vj-otg-time-uniform', VJOTGUniformTime);\nexport default VJOTGUniformTime;","\n/* global HTMLElementPlus */\n\n\n// Exposes a beat uniform and an analyser uniform for use in the shader\n// fires a 'beat' event each time a beat is triggered in the audio input\n\n/**\n * Required params: Threshold\n */\n\nclass VJOTAnalyserUniform extends HTMLElementPlus {\n\tconstructor() {\n\t\tsuper();\n\t}\n\tstatic get observedAttributes() {\n\t\treturn ['threshold'];\n\t}\n\tallAttributesChangedCallback(glAttributes) {\n\n\t\tglAttributes.threshold = glAttributes.threshold || 64;\n\n\t\tconst fftSize = 4096;\n\t\tconst cutoff = 682; // Cut off high freq maximum is fftSize/2\n\t\tconst finalSize = 20; // Number of bins in the histogram\n\n\t\tthis.shaderChunks = {\n\t\t\tuniforms: `\n\t\t\t\tuniform float beat;\n\t\t\t\tuniform float analyser[${finalSize}];\n\t\t\t\tconst float noAnalyserBins = ${finalSize.toFixed(1)};`\n\t\t};\n\n\t\t// Fetch an existing uniform to update or create a new one\n\t\tconst beatUniform = this.parentNode.uniforms.beat || {\n\t\t\ttype: 'f',\n\t\t\tvalue: 0\n\t\t};\n\t\tthis.parentNode.uniforms.beat = beatUniform;\n\n\t\t// Fetch an existing uniform to update or create a new one\n\t\tconst analyserUniform = this.parentNode.uniforms.analyser || {\n\t\t\ttype: 'uFloatArray'\n\t\t};\n\t\tthis.parentNode.uniforms.analyser = analyserUniform;\n\n\t\t// If this has already been setup then update the threshold and return\n\t\tif (this.threshold) {\n\t\t\tthis.threshold = glAttributes.threshold;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.threshold = glAttributes.threshold || 127; // our threshold value\n\t\tconst base = 2; // Base for the power function, higher means larger groups at higher frequencies.\n\t\tconst data = new Uint8Array(fftSize / 2); // Bins in for analyser node\n\t\tconst processedData = new Float32Array(finalSize); // Our bins for post processed data\n\t\tlet beat = 0; // our beat value\n\t\tconst audioCtx = new window.AudioContext();\n\t\tconst analyserNode = audioCtx.createAnalyser();\n\t\tanalyserNode.fftSize = fftSize;\n\t\tconst beatEvent = new Event('beat');\n\n\t\tanalyserUniform.value = processedData;\n\n\t\tconst binPattern = (function(inAmount, target) {\n\t\t\tlet val = 1;\n\t\t\tlet step = 1;\n\t\t\tlet result;\n\t\t\twhile (result !== target) {\n\t\t\t\tresult = getBins(val).length;\n\t\t\t\tif (result < target) {\n\t\t\t\t\t// console.log('too big', val, result);\n\t\t\t\t\tstep = step / 2;\n\t\t\t\t\tval -= step;\n\t\t\t\t} else if (result > target) {\n\t\t\t\t\t// console.log('too small', val, result);\n\t\t\t\t\tval += step;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction getBins(k) {\n\t\t\t\tconst a = [];\n\t\t\t\tlet t = 0;\n\t\t\t\tlet i = 0;\n\t\t\t\twhile (t < inAmount) {\n\t\t\t\t\tt += Math.pow(base, k * i++);\n\t\t\t\t\ta.push(\n\t\t\t\t\t\t(a[a.length - 1] || 0) + Math.round(Math.pow(base, k * i++))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn a;\n\t\t\t}\n\n\t\t\treturn getBins(val);\n\t\t}(cutoff, finalSize));\n\n\t\t// fetches audio atream and returns analysed data\n\t\tfunction getStreamData() {\n\t\t\t// pipe in analysing to getUserMedia\n\t\t\treturn navigator.mediaDevices\n\t\t\t\t.getUserMedia({ audio: true, video: false })\n\t\t\t\t.then(stream => audioCtx.createMediaStreamSource(stream))\n\t\t\t\t.then(source => {\n\t\t\t\t\tsource.connect(analyserNode);\n\t\t\t\t});\n\t\t}\n\n\t\tgetStreamData().then(() => {\n\t\t\tthis.rafFn = function() {\n\t\t\t\tbeatUniform.value *= 0.9;\n\n\t\t\t\tanalyserNode.getByteFrequencyData(data);\n\n\t\t\t\t// put data into processed data using binPattern\n\t\t\t\t// First index needs to be one for the special case\n\t\t\t\t// i=0 where the initial value is 0.\n\t\t\t\tlet index = 1;\n\t\t\t\tlet sum = data[0];\n\t\t\t\tlet binSize = 0;\n\n\t\t\t\t// binPattern is the index value of the next cutoff\n\t\t\t\t// for each item in frequency data (up to how many we actually want)\n\t\t\t\tfor (let i = 0; i < cutoff; i++) {\n\t\t\t\t\tsum += data[i];\n\n\t\t\t\t\tif (i >= binPattern[index]) {\n\t\t\t\t\t\tbinSize = binPattern[index] - binPattern[index - 1];\n\t\t\t\t\t\tsum = sum / binSize;\n\t\t\t\t\t\tprocessedData[index] = sum / 256; // Normalised so between 0 and 1\n\t\t\t\t\t\tsum = 0;\n\t\t\t\t\t\tindex++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// get average\n\t\t\t\tlet avSum = processedData.reduce(function(a, b) {\n\t\t\t\t\treturn a + b;\n\t\t\t\t});\n\n\t\t\t\tbeat = 256 * avSum / finalSize;\n\n\t\t\t\tif (beat > this.threshold) {\n\t\t\t\t\t// Dispatch the event.\n\t\t\t\t\tbeatUniform.value = 1.0;\n\t\t\t\t\tthis.dispatchEvent(beatEvent);\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t}\n}\n\ncustomElements.define('vj-otg-audio-uniform', VJOTAnalyserUniform);\nexport default VJOTAnalyserUniform;","/* global HTMLElementPlus */\n\nclass VJOTGFloatUniform extends HTMLElementPlus {\n\tconstructor() {\n\t\tsuper();\n\t}\n\tstatic get observedAttributes() {\n\t\treturn ['name', 'value'];\n\t}\n\tallAttributesChangedCallback(glAttributes) {\n\t\t// Fetch an existing uniform to update or create a new one\n\t\tconst uniform = this.parentNode.uniforms[glAttributes.name] || {\n\t\t\ttype: 'f'\n\t\t};\n\t\tuniform.value = glAttributes.value;\n\n\t\tthis.parentNode.uniforms[glAttributes.name] = uniform;\n\t\tthis.shaderChunks = {\n\t\t\tuniforms: `uniform float ${glAttributes.name};`\n\t\t};\n\t}\n}\n\ncustomElements.define('vj-otg-float-uniform', VJOTGFloatUniform);\nexport default VJOTGFloatUniform;","/* global HTMLElementPlus, THREE */\n\nconst typeMap = {\n\ti: 'int',\n\tf: 'float',\n\tv2: 'vec2',\n\tv3: 'vec3',\n\tv4: 'vec4'\n};\n\n/* ##################################\n\n\tPrototype for all Filter\n\n################################## */\n\n\nclass VJOTGFilter extends HTMLElementPlus {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.constructor.filterCount = this.constructor.filterCount || 0;\n\t\tthis.name = this.tagName.toLowerCase().replace(/[^a-z]/ig, '_') + '_' + this.constructor.filterCount++;\n\t\tthis.shaderChunks = this.shaderChunks || {\n\t\t\tuniforms: ''\n\t\t};\n\t}\n\t\n\tstatic get observedAttributes() {\n\n\t\t// Populated with the format of each element\n\t\treturn this.types ? Object.keys(this.types) : [];\n\t}\n\n\tstatic parseAttributeValue(name, value) {\n\n\t\t// Type is just a string so ignore it.\n\t\tif (name === 'type') return value;\n\n\t\tif (!value) return;\n\n\t\tvalue = value.trim();\n\t\tconst literalTest = value.match(/^\\[(.*)\\]$/);\n\t\tconst isSnippet = !!literalTest;\n\n\t\tif (isSnippet) {\n\t\t\treturn {\n\t\t\t\tglslSnippet: literalTest[1],\n\t\t\t\tisSnippet: true\n\t\t\t}\n\t\t} else {\n\n\t\t\tconst type = this.constructor.types[name];\n\n\t\t\tswitch (type) {\n\t\t\tcase 'v2':\n\t\t\tcase 'v3':\n\t\t\tcase 'v4':\n\t\t\t\tvalue=value;\n\t\t\t\tbreak;\n\n\t\t\tcase 'i':\n\t\t\t\tvalue = Number(value);\n\t\t\t\tbreak;\n\n\t\t\tcase 'f': \n\t\t\t\tvalue = Number(value);\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase 'static-string':\n\t\t\t\treturn {\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tisSnippet: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst uniformName = `${this.name}_${name}`;\n\n\t\t\tif (!this.parentNode.uniforms[uniformName]) {\n\t\t\t\tthis.parentNode.uniforms[uniformName] = { type: type };\n\t\t\t\tthis.shaderChunks.uniforms += `uniform ${typeMap[type]} ${uniformName};` + '\\n';\n\t\t\t}\n\n\t\t\tconst uniform = this.parentNode.uniforms[uniformName];\n\t\t\tthis.parentNode.uniforms[uniformName] = uniform;\n\t\t\t\n\t\t\tif (type === 'v2' && !uniform.value) {\n\t\t\t\tuniform.value = new THREE.Vector2();\n\t\t\t}\n\n\t\t\tif (type === 'v3' && !uniform.value) {\n\t\t\t\tuniform.value = new THREE.Vector3();\n\t\t\t}\n\n\t\t\tif (type === 'v4' && !uniform.value) {\n\t\t\t\tuniform.value = new THREE.Vector4();\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tvalue: value,\n\t\t\t\tisSnippet: false,\n\t\t\t\tuniform: uniform,\n\t\t\t\tuniformName: uniformName\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default VJOTGFilter;","\nimport VJOTGFilter from '../prototype.js';\n\nclass VJOTGDynamicTexture extends VJOTGFilter {\n\tconstructor() {\n\t\tsuper();\n\t}\n\t\n\tstatic get types() {\n\t\treturn {\n\t\t\t'source-name': 'static-string'\n\t\t};\n\t}\n\n\tallAttributesChangedCallback(glAttributes) {\n\n\t\t// If this is in the top layer then work on the Fragment directly\n\t\tconst layerName =\n\t\t\tthis.parentNode.tagName === 'VJ-OTG-VISUALS'\n\t\t\t\t? 'gl_FragColor'\n\t\t\t\t: this.parentNode.glLayerName; // Otherwise work on the parent layer.\n\n\t\t// If not in a valid parent then return\n\t\tif (!layerName) return;\n\n\t\t// Update the uniform.\n\t\tif (glAttributes['source-index'].uniform) {\n\t\t\tglAttributes['source-index'].uniform.value = glAttributes['source-index'].value;\n\t\t}\n\n\t\t// Set the main program\n\t\tif (glAttributes['source-index'].isSnippet) {\n\t\t\tthis.shaderChunks.main = `${layerName} *= getSource((${glAttributes['source-index'].glslSnippet}), newUV);`\n\t\t} else {\n\t\t\tthis.shaderChunks.main = `${layerName} *= getSource(${glAttributes['source-index'].uniformName}, newUV);`\n\t\t}\n\t}\n}\n\ncustomElements.define('vj-otg-dynamic-texture', VJOTGDynamicTexture);\nexport default VJOTGDynamicTexture;","\nimport VJOTGFilter from '../prototype.js';\n\nclass VJOTGStaticTexture extends VJOTGFilter {\n\tconstructor() {\n\t\tsuper();\n\t}\n\t\n\tstatic get types() {\n\t\treturn {\n\t\t\t'source-name': 'static-string'\n\t\t};\n\t}\n\n\tallAttributesChangedCallback(glAttributes) {\n\n\t\t// If this is in the top layer then work on the Fragment directly\n\t\tconst layerName =\n\t\t\tthis.parentNode.tagName === 'VJ-OTG-VISUALS'\n\t\t\t\t? 'gl_FragColor'\n\t\t\t\t: this.parentNode.glLayerName; // Otherwise work on the parent layer.\n\n\t\t// If not in a valid parent then return\n\t\tif (!layerName) return;\n\n\t\tthis.shaderChunks.main = `${layerName} *= texture2D(${glAttributes['source-name'].value}, newUV);`\n\t}\n}\n\nexport default VJOTGStaticTexture;\ncustomElements.define('vj-otg-static-texture', VJOTGStaticTexture);","\nimport VJOTGFilter from '../prototype.js';\n\nclass VJOTGSplitX extends VJOTGFilter {\n\tconstructor() {\n\t\tsuper();\n\t}\n\t\n\tstatic get types() {\n\t\treturn {\n\t\t\tsize: 'f',\n\t\t\t'source-name': 'static-string'\n\t\t};\n\t}\n\n\tallAttributesChangedCallback(glAttributes) {\n\n\t\t// If this is in the top layer then work on the Fragment directly\n\t\tconst layerName =\n\t\t\tthis.parentNode.tagName === 'VJ-OTG-VISUALS'\n\t\t\t\t? 'gl_FragColor'\n\t\t\t\t: this.parentNode.glLayerName; // Otherwise work on the parent layer.\n\n\t\t// If not in a valid parent then return\n\t\tif (!layerName) return;\n\n\t\t// Update the uniform.\n\t\tif (glAttributes.size.uniform) {\n\t\t\tglAttributes.size.uniform.value = glAttributes.size.value;\n\t\t}\n\n\t\tif (glAttributes.size.isSnippet) {\n\t\t\tthis.shaderChunks.main = `${layerName} *= splitXTexture2D(${glAttributes['source-name'].value}, newUV, ${glAttributes.size.glslSnippet});`\n\t\t} else {\n\t\t\tthis.shaderChunks.main = `${layerName} *= splitXTexture2D(${glAttributes['source-name'].value}, newUV, ${glAttributes.size.uniformName});`\n\t\t}\n\t}\n\t\n\t// This code gets added as a function in the code\n\tstatic glslFunction() {\n\t\treturn `\n\t\t\tvec4 splitXTexture2D(sampler2D map, vec2 coord, float distance) {\n\t\t\t\tvec4 mapTexel1 = texture2D( map, vec2(coord.x + distance, coord.y));\n\t\t\t\tvec4 mapTexel2 = texture2D( map, vec2(coord.x -distance, coord.y));\n\t\t\t\treturn (mapTexel1 + mapTexel2) / 2.0;\n\t\t\t}`;\n\t}\n}\n\ncustomElements.define('vj-otg-splitx', VJOTGSplitX);\nexport default VJOTGSplitX;","\nimport VJOTGFilter from '../prototype.js';\n\nfunction parseVector3(v3, str) {\n\tv3.set(...str.split(',').map(n => Number(n.trim())));\n}\n\nclass VJOTGGradient extends VJOTGFilter {\n\tconstructor() {\n\t\tsuper();\n\t}\n\t\n\tstatic get types() {\n\t\treturn {\n\t\t\tstart: 'v3',\n\t\t\tstop: 'v3',\n\t\t\tdirection: 'i'\n\t\t};\n\t}\n\n\tallAttributesChangedCallback(glAttributes) {\n\n\t\t// If this is in the top layer then work on the Fragment directly\n\t\tconst layerName =\n\t\t\tthis.parentNode.tagName === 'VJ-OTG-VISUALS'\n\t\t\t\t? 'gl_FragColor'\n\t\t\t\t: this.parentNode.glLayerName; // Otherwise work on the parent layer.\n\n\t\t// If not in a valid parent then return\n\t\tif (!layerName) return;\n\n\t\t// Update the uniform.\n\t\tif (glAttributes.direction.uniform) {\n\t\t\tglAttributes.direction.uniform.value = glAttributes.direction.value;\n\t\t}\n\t\tif (glAttributes.start.uniform) {\n\t\t\tparseVector3(glAttributes.start.uniform.value, glAttributes.start.value);\n\t\t}\n\t\tif (glAttributes.stop.uniform) {\n\t\t\tparseVector3(glAttributes.stop.uniform.value, glAttributes.stop.value);\n\t\t}\n\n\t\t// Set the main program\n\t\tlet main = `${layerName} *= hslGradient(newUV, ${\n\t\t\tglAttributes.direction.isSnippet ? glAttributes.glslSnippet : glAttributes.direction.uniformName\n\t\t}, ${\n\t\t\tglAttributes.start.isSnippet ? glAttributes.start.glslSnippet : glAttributes.start.uniformName\n\t\t}, ${\n\t\t\tglAttributes.stop.isSnippet ? glAttributes.stop.glslSnippet : glAttributes.stop.uniformName\n\t\t});`;\n\n\t\tthis.shaderChunks.main = main;\n\t}\n\t\n\t// This code gets added as a function in the code\n\tstatic glslFunction() {\n\t\treturn `\n\t\t// From https://github.com/Jam3/glsl-hsl2rgb/blob/master/index.glsl\n\t\t// MIT License (MIT) Copyright (c) 2015 Jam3\n\t\t\n\t\tfloat hue2rgb(float f1, float f2, float hue) {\n\t\t\tif (hue < 0.0)\n\t\t\t\thue += 1.0;\n\t\t\telse if (hue > 1.0)\n\t\t\t\thue -= 1.0;\n\t\t\tfloat res;\n\t\t\tif ((6.0 * hue) < 1.0)\n\t\t\t\tres = f1 + (f2 - f1) * 6.0 * hue;\n\t\t\telse if ((2.0 * hue) < 1.0)\n\t\t\t\tres = f2;\n\t\t\telse if ((3.0 * hue) < 2.0)\n\t\t\t\tres = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n\t\t\telse\n\t\t\t\tres = f1;\n\t\t\treturn res;\n\t\t}\n\t\t\n\t\tvec3 hsl2rgb(vec3 hsl) {\n\t\t\tvec3 rgb;\n\t\t\t\n\t\t\tif (hsl.y == 0.0) {\n\t\t\t\trgb = vec3(hsl.z); // Luminance\n\t\t\t} else {\n\t\t\t\tfloat f2;\n\t\t\t\t\n\t\t\t\tif (hsl.z < 0.5)\n\t\t\t\t\tf2 = hsl.z * (1.0 + hsl.y);\n\t\t\t\telse\n\t\t\t\t\tf2 = hsl.z + hsl.y - hsl.y * hsl.z;\n\t\t\t\t\t\n\t\t\t\tfloat f1 = 2.0 * hsl.z - f2;\n\t\t\t\t\n\t\t\t\trgb.r = hue2rgb(f1, f2, hsl.x + (1.0/3.0));\n\t\t\t\trgb.g = hue2rgb(f1, f2, hsl.x);\n\t\t\t\trgb.b = hue2rgb(f1, f2, hsl.x - (1.0/3.0));\n\t\t\t}   \n\t\t\treturn rgb;\n\t\t}\n\t\t\n\t\tvec3 hsl2rgb(float h, float s, float l) {\n\t\t\treturn hsl2rgb(vec3(h, s, l));\n\t\t}\n\n\t\t//  MIT License (MIT) Copyright (c) 2017 Ada Rose Cannon\n\t\tvec4 hslGradient(vec2 coord, int gradientDirection, vec3 gradientStart, vec3 gradientStop) {\n\t\t\tvec4 gradient = noopVec4; // 1,1,1,1\n\t\t\tif (gradientDirection != 0) {\n\t\t\t\tfloat gradientMixFactor = 1.0-coord.y;\n\t\t\t\tif (gradientDirection == 2) gradientMixFactor = length(coord - vec2(1.0, 1.0));\n\t\t\t\tif (gradientDirection == 3) gradientMixFactor = 1.0-coord.x;\n\t\t\t\tif (gradientDirection == 4) gradientMixFactor = length(coord - vec2(1.0, 0.0));\n\t\t\t\tif (gradientDirection == 5) gradientMixFactor = coord.y;\n\t\t\t\tif (gradientDirection == 6) gradientMixFactor = length(coord - vec2(0.0, 0.0));\n\t\t\t\tif (gradientDirection == 7) gradientMixFactor = coord.x;\n\t\t\t\tif (gradientDirection == 8) gradientMixFactor = length(coord - vec2(0.0, 1.0));\n\t\t\t\tgradient = vec4(hsl2rgb(mix(gradientStart, gradientStop, gradientMixFactor) * normaliseHSL), 1.0);\n\t\t\t}\n\t\t\treturn gradient;\n\t\t}`;\n\t}\n}\n\ncustomElements.define('vj-otg-gradient', VJOTGGradient);\nexport default VJOTGGradient;","\nimport VJOTGFilter from '../prototype.js';\n\nconst filterTemplate = document.createElement('template');\nfilterTemplate.innerHTML = '<div style=\"display:none;\"><slot></slot></div>';\nclass VJOTGMain extends VJOTGFilter {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.attachShadow({ mode: 'open' });\n\t\tthis.shadowRoot.appendChild(filterTemplate.content.cloneNode(true));\n\t}\n\n\tallAttributesChangedCallback() {\n\n\t\t// HACK, Because it has no attributes allAttributesChangedCallback is called during construction\n\t\t// before shaderChunks is defined.\n\t\tthis.shaderChunks = {};\n\n\t\t// If this is in the top layer then work on the Fragment directly\n\t\tconst layerName =\n\t\t\tthis.parentNode.tagName === 'VJ-OTG-VISUALS'\n\t\t\t\t? 'gl_FragColor'\n\t\t\t\t: this.parentNode.glLayerName; // Otherwise work on the parent layer.\n\n\t\t// If not in a valid parent then return\n\t\tif (!layerName) return;\n\n\t\tconst customMain = this.textContent.trim() || false;\n\t\tthis.shaderChunks.main = customMain.replace(/\\[layer\\]/gi, layerName);\n\t}\n}\n\ncustomElements.define('vj-otg-main', VJOTGMain);\nexport default VJOTGMain;","/**\n * This distorts the current coordinate, newUV (vec2) so that\n * when it reads from a texture it gets a different position distorting the image\n */\n\n\nimport VJOTGFilter from '../prototype.js';\n\nclass VJOTGRotate extends VJOTGFilter {\n\tconstructor() {\n\t\tsuper();\n\t}\n\t\n\tstatic get types() {\n\t\treturn {\n\t\t\tangle: 'f'\n\t\t};\n\t}\n\n\tstatic glslFunction () {\n\t\treturn `\n\t\tvec2 rotate2D(vec2 v, vec2 o, float a) {\n\t\t\tfloat s = sin(a);\n\t\t\tfloat c = cos(a);\n\t\t\tmat2 m = mat2(c, -s, s, c);\n\t\t\treturn m * (v - o) + o;\n\t\t}`;\n\t}\n\n\tallAttributesChangedCallback(glAttributes) {\n\t\tif (glAttributes.angle.uniform) {\n\t\t\tglAttributes.angle.uniform.value = glAttributes.angle.value;\n\t\t}\n\t\tthis.shaderChunks.main = `newUV = rotate2D(newUV, centerCoord, (${\n\t\t\tglAttributes.angle.isSnippet ? glAttributes.angle.glslSnippet : glAttributes.angle.uniformName\n\t\t}) * deg2rad);`\n\t}\n}\n\ncustomElements.define('vj-otg-rotate', VJOTGRotate);\n","/**\n * This distorts the current coordinate, newUV (vec2) so that\n * when it reads from a texture it gets a different position distorting the image\n */\n\n\nimport VJOTGFilter from '../prototype.js';\n\nclass VJOTGWave extends VJOTGFilter {\n\tconstructor() {\n\t\tsuper();\n\t}\n\t\n\tstatic get types() {\n\t\treturn {\n\t\t\tspeed: 'f',\n\t\t\tamplitude: 'f',\n\t\t\tfrequency: 'f',\n\t\t\tt: 'f'\n\t\t};\n\t}\n\n\tallAttributesChangedCallback(glAttributes) {\n\t\tif (glAttributes.speed.uniform) {\n\t\t\tglAttributes.speed.uniform.value = glAttributes.speed.value;\n\t\t}\n\t\tif (glAttributes.frequency.uniform) {\n\t\t\tglAttributes.frequency.uniform.value = glAttributes.frequency.value;\n\t\t}\n\t\tif (glAttributes.t.uniform) {\n\t\t\tglAttributes.t.uniform.value = glAttributes.t.value;\n\t\t}\n\t\tif (glAttributes.amplitude.uniform) {\n\t\t\tglAttributes.amplitude.uniform.value = glAttributes.amplitude.value;\n\t\t}\n\n\t\tthis.shaderChunks.main = `newUV = newUV + vec2(sin((vUv.y * (${\n\t\t\tglAttributes.frequency.isSnippet ? glAttributes.frequency.glslSnippet : glAttributes.frequency.uniformName\n\t\t}) + (${\n\t\t\tglAttributes.t.isSnippet ? glAttributes.t.glslSnippet : glAttributes.t.uniformName\n\t\t}) * (${\n\t\t\tglAttributes.speed.isSnippet ? glAttributes.speed.glslSnippet : glAttributes.speed.uniformName\n\t\t})) * PI) * (${\n\t\t\tglAttributes.amplitude.isSnippet ? glAttributes.amplitude.glslSnippet : glAttributes.amplitude.uniformName\n\t\t}), 0.0);`;\n\t}\n}\n\ncustomElements.define('vj-otg-wave', VJOTGWave);\n","/**\n * This distorts the current coordinate, newUV (vec2) so that\n * when it reads from a texture it gets a different position distorting the image\n */\n\n\nimport VJOTGFilter from '../prototype.js';\n\nclass VJOTGZoom extends VJOTGFilter {\n\tconstructor() {\n\t\tsuper();\n\t}\n\t\n\tstatic get types() {\n\t\treturn {\n\t\t\tposition: 'v2',\n\t\t\tfactor: 'f'\n\t\t};\n\t}\n\n\tallAttributesChangedCallback(glAttributes) {\n\t\tif (glAttributes.position.uniform) {\n\t\t\tglAttributes.position.uniform.value.set.apply(\n\t\t\t\tglAttributes.position.uniform.value,\n\t\t\t\tglAttributes.position.value.split(',')\n\t\t\t);\n\t\t}\n\t\tif (glAttributes.factor.uniform) {\n\t\t\tglAttributes.factor.uniform.value = glAttributes.factor.value;\n\t\t}\n\t\tthis.shaderChunks.main = `newUV = (newUV / (${\n\t\t\tglAttributes.factor.isSnippet ? glAttributes.factor.glslSnippet : glAttributes.factor.uniformName\n\t\t})) - (vec2(0.5, 0.5) / (${\n\t\t\tglAttributes.factor.isSnippet ? glAttributes.factor.glslSnippet : glAttributes.factor.uniformName\n\t\t})) + (${\n\t\t\tglAttributes.position.isSnippet ? glAttributes.position.glslSnippet : glAttributes.position.uniformName\n\t\t});`\n\t}\n}\n\ncustomElements.define('vj-otg-zoom', VJOTGZoom);\n","/* bundle all the effects together whilst there is no native js import yet. */\n\nimport './wrapper/wrapper.js'; // vj-otg-visuals\n\nimport './utility/asset.js'; // vj-otg-assets\nimport './utility/group.js'; // vj-otg-group\n\nimport './uniforms/source.js'; // vj-otg-source-uniform\nimport './uniforms/midi.js'; // vj-otg-midi-uniform\nimport './uniforms/time.js'; // vj-otg-time-uniform\nimport './uniforms/analyser.js'; // vj-otg-audio-uniform\nimport './uniforms/generic-float.js'; // vj-otg-float-uniform\n\nimport './effects/dynamicTexture.js'; // vj-otg-dynamic-texture\nimport './effects/staticTexture.js'; // vj-otg-static-texture\nimport './effects/splitx.js'; // vj-otg-splitx\nimport './effects/gradient.js'; // vj-otg-gradient\nimport './effects/main.js'; // vj-otg-main\n\nimport './distorts/rotate.js'; // vj-otg-rotate\nimport './distorts/wave.js'; // vj-otg-wave\nimport './distorts/zoom.js'; // vj-otg-zoom\n"],"names":[],"mappings":"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"}