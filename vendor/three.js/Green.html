<!DOCTYPE html>
<!-- saved from url=(0068)http://twinery.org/2/#!/stories/ec66dc23-ab61-49a8-9e1e-1f5f695e2979 -->
<html data-app-name="Twine" data-version="2.2.1" data-build-number="201712200948"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Green</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	
	<link rel="shortcut icon" href="http://twinery.org/2/rsrc/favicon.ico" type="image/x-icon">
	
		<link href="./Green_files/codemirror.min.css" rel="stylesheet" media="screen">
		<link href="./Green_files/show-hint.min.css" rel="stylesheet" media="screen">
		<link href="./Green_files/font-awesome.min.css" rel="stylesheet" media="screen">
	
	<link href="./Green_files/twine.css" rel="stylesheet" media="screen">
<style id="cm-harlowe-2">.cm-harlowe-2-root{box-sizing:border-box;}.cm-harlowe-2-cursor:not([class^='cm-harlowe-2-text cm-harlowe-2-root']){border-bottom: 2px solid darkgray;}.CodeMirror{padding: 0 !important}.CodeMirror-linenumber{color: #ccc;}.CodeMirror-gutters{left: 0px !important;}.cm-harlowe-2-hook{background-color: hsla(40,100%,50%,0.05);}.cm-harlowe-2-hook-2{background-color: hsla(40,100%,50%,0.1);}.cm-harlowe-2-hook-3{background-color: hsla(40,100%,50%,0.15);}.cm-harlowe-2-hook-4{background-color: hsla(40,100%,50%,0.2);}.cm-harlowe-2-hook-5{background-color: hsla(40,100%,50%,0.25);}.cm-harlowe-2-hook-6{background-color: hsla(40,100%,50%,0.3);}.cm-harlowe-2-hook-7{background-color: hsla(40,100%,50%,0.35);}.cm-harlowe-2-hook-8{background-color: hsla(40,100%,50%,0.4);}[class^='cm-harlowe-2-hook '], [class^='cm-harlowe-2-hook-']{font-weight:bold;}.cm-harlowe-2-error:not([class*='cm-harlowe-2-string']){color: firebrick !important; background-color: hsla(17, 100%, 74%, 0.74) !important;}.cm-harlowe-2-macro{background-color: hsla(320,44%,50%,0.05);color: #a84186;}.cm-harlowe-2-macro-2{background-color: hsla(320,44%,50%,0.1);color: #a84186;}.cm-harlowe-2-macro-3{background-color: hsla(320,44%,50%,0.15);color: #a84186;}.cm-harlowe-2-macro-4{background-color: hsla(320,44%,50%,0.2);color: #a84186;}.cm-harlowe-2-macro-5{background-color: hsla(320,44%,50%,0.25);color: #a84186;}.cm-harlowe-2-macro-6{background-color: hsla(320,44%,50%,0.3);color: #a84186;}.cm-harlowe-2-macro-7{background-color: hsla(320,44%,50%,0.35);color: #a84186;}.cm-harlowe-2-macro-8{background-color: hsla(320,44%,50%,0.4);color: #a84186;}.cm-harlowe-2-macroName{font-style:italic;}[class^='cm-harlowe-2-macro ']{font-weight:bold;}.cm-harlowe-2-bold, .cm-harlowe-2-strong{font-weight:bold;}.cm-harlowe-2-italic, .cm-harlowe-2-em{font-style:italic;}.cm-harlowe-2-sup{vertical-align: super;font-size:0.8em;}.cm-harlowe-2-strike{text-decoration: line-through;}.cm-harlowe-2-verbatim{background-color: hsla(0,0%,50%,0.1);}[class^='cm-harlowe-2-bold'], [class^='cm-harlowe-2-strong'], [class^='cm-harlowe-2-italic'], [class^='cm-harlowe-2-em'], [class^='cm-harlowe-2-sup'], [class^='cm-harlowe-2-verbatim'], [class^='cm-harlowe-2-strike']{font-weight:100; color: hsla(0,0,0,0.5)}[class^='cm-harlowe-2-string']{font-style:italic; display:inline-block; transform: scaleX(-1);}.cm-harlowe-2-string + [class^='cm-harlowe-2-string']{transform: none;}[class^='cm-harlowe-2-collapsed']{font-weight:bold; color: hsl(201, 100%, 30%);}.cm-harlowe-2-collapsed{background-color: hsla(220,100%,50%,0.025);}.cm-harlowe-2-collapsed.cm-harlowe-2-hook{background-color: hsla(220,100%,50%,0.05);}.cm-harlowe-2-collapsed.cm-harlowe-2-hook-2{background-color: hsla(220,100%,50%,0.1);}.cm-harlowe-2-collapsed.cm-harlowe-2-hook-3{background-color: hsla(220,100%,50%,0.15);}.cm-harlowe-2-collapsed.cm-harlowe-2-hook-4{background-color: hsla(220,100%,50%,0.2);}.cm-harlowe-2-collapsed.cm-harlowe-2-hook-5{background-color: hsla(220,100%,50%,0.25);}.cm-harlowe-2-collapsed.cm-harlowe-2-hook-6{background-color: hsla(220,100%,50%,0.3);}.cm-harlowe-2-collapsed.cm-harlowe-2-hook-7{background-color: hsla(220,100%,50%,0.35);}.cm-harlowe-2-collapsed.cm-harlowe-2-hook-8{background-color: hsla(220,100%,50%,0.4);}.cm-harlowe-2-twineLink:not(.cm-harlowe-2-text){color: #3333cc;}.cm-harlowe-2-tag{color: #4d4d9d;}.cm-harlowe-2-boolean{color: #626262;}.cm-harlowe-2-string{color: #008282;}.cm-harlowe-2-number{color: #A15000;}.cm-harlowe-2-variable{color: #0076b2;}.cm-harlowe-2-tempVariable{color: #1a6e97;}.cm-harlowe-2-hookRef{color: #007f54;}.cm-harlowe-2-variableOccurrence, .cm-harlowe-2-hookOccurrence{background: #9fdfc9 !important;}.cm-harlowe-2-where{color: #007f00; font-style:italic;}.cm-harlowe-2-via{color: #007f00; font-style:italic;}.cm-harlowe-2-with{color: #007f00; font-style:italic;}.cm-harlowe-2-making{color: #007f00; font-style:italic;}.cm-harlowe-2-each{color: #007f00; font-style:italic;}.cm-harlowe-2-heading{font-weight:bold;}.cm-harlowe-2-hr{display:block; background-image: linear-gradient(0deg, transparent, transparent 45%, silver 45%, transparent 55%, transparent);}.cm-harlowe-2-align{display:block; color: hsl(14, 99%, 37%); background-color: hsla(14, 99%, 87%, 0.2);}.cm-harlowe-2-column{display:block; color: hsl(204, 99%, 37%); background-color: hsla(204, 99%, 87%, 0.2);}.cm-harlowe-2-escapedLine{font-weight:bold; color: hsl(51, 100%, 30%);}.cm-harlowe-2-identifier, .cm-harlowe-2-property, .cm-harlowe-2-belongingProperty, .cm-harlowe-2-itsProperty, .cm-harlowe-2-belongingItProperty, .cm-harlowe-2-belongingItOperator{color: #0076b2;}</style></head>
<body class="theme-light modalOpen">
	<div id="main"><div><div id="storyEditView" class="zoom-big" style="width: 2880px; height: 1357.5px;"> <div class="passages"> <div class="marquee" style="display: none;"></div> <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" class="links" style="transform: scale(1); width: 100%; height: 100%;"> <defs> <marker id="link-arrowhead" refX="6" refY="4" markerWidth="8" markerHeight="8" orient="auto"> <path d="M 1,1 7,4 1,7 Z"> </path></marker> <marker id="link-broken" refX="4.5" refY="4.5" markerWidth="10" markerHeight="10"> <path d="M 1,2 2,1 5,4 8,1 9,2 6,5 9,8 8,9, 5,6 2,9 1,8 4,5 Z"> </path></marker> </defs> <style>.marker-arrow{marker-end:url(#link-arrowhead)}.marker-broken{marker-end:url(#link-broken)}</style> <path d="M175,100 A25,18.75 0 0 1 200,100" class="marker-arrow"></path><path d="M375,150 A25,18.75 90 0 1 375,175" class="marker-arrow"></path><path d="M300,100 A25,18.75 0 0 1 325,100" class="marker-arrow"></path> </svg> <div class="passage grow-in-out-transition selected drop-target drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center" style="left: 75px; top: 50px; width: 100px; height: 100px; transform: translate(0px, 0px);"> <div class="frame"> <div class="tags">  </div> <p class="title"> <span class="badge-create"><i class="fa fa-rocket"></i></span> <span class="text">hacks</span> </p> <p class="excerpt"> &lt;div id="splash"&gt;
	&lt;div style="display: none;"&gt;(print: (function () {
		window.harlowe = {
			state… </p> </div>  </div><div class="passage grow-in-out-transition selected drop-target drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center" style="left: 325px; top: 50px; width: 100px; height: 100px; transform: translate(0px, 0px);"> <div class="frame"> <div class="tags">  </div> <p class="title">  <span class="text">start</span> </p> <p class="excerpt"> //Boom Boom Boom Boom// The banging echoes through my head.

Is that a banging at the door?

[[Sit … </p> </div>  </div><div class="passage grow-in-out-transition selected drop-target drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center" style="left: 325px; top: 175px; width: 100px; height: 100px; transform: translate(0px, 0px);"> <div class="frame"> <div class="tags">  </div> <p class="title">  <span class="text">wake</span> </p> <p class="excerpt"> A wave of dizziness overcomes me.
[What did I drink last night?]&lt;no-drink|
[What did I drink last n… </p> </div>  </div><div class="passage grow-in-out-transition selected drop-target drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center" style="left: 75px; top: 175px; width: 100px; height: 100px; transform: translate(0px, 0px);"> <div class="frame"> <div class="tags">  </div> <p class="title">  <span class="text">aframe</span> </p> <p class="excerpt"> &lt;a-scene io3d-lighting style="position: absolute; display: none;" vr-mode-ui="enabled: false"&gt;

  &lt;… </p> </div>  </div><div class="passage grow-in-out-transition selected drop-target drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center" style="left: 200px; top: 50px; width: 100px; height: 100px; transform: translate(0px, 0px);"> <div class="frame"> <div class="tags">  </div> <p class="title">  <span class="text">scripts</span> </p> <p class="excerpt"> &lt;script&gt;

	const ada = document.querySelector('[ada-model]');
	setInterval(function() {
		ada.setAt… </p> </div>  </div> </div> <div class="toolbar main fullSlideUp fast"> <div class="left"> <a class="home subtle v-link-active" title="Go to the story list" href="http://twinery.org/2/#!/stories"><i class="fa fa-home fa-lg"></i></a> <button class="storyName subtle drop-target drop-element-attached-bottom drop-element-attached-left drop-target-attached-top drop-target-attached-left drop-abutted drop-abutted-top"> <span class="storyNameVal">Green</span> <i class="fa fa-caret-up fa-lg"></i>  </button> </div> <div class="right"> <span class="searchContainer"> <input type="search" class="searchField" placeholder="Quick Find"> <button class="subtle" title="Find and replace across the entire story"> <i class="fa fa-list-alt"></i> </button> </span> <span class="zooms"> <button class="zoomSmall subtle" title="Show only story structure"> <i class="fa fa-th fa-lg"></i> </button> <button class="zoomMedium subtle" title="Show only passage titles"> <i class="fa fa-th-large fa-lg"></i> </button> <button class="zoomBig subtle active" title="Show passage titles and excerpts"> <i class="fa fa-stop fa-l"></i> </button> </span> <button class="subtle" title="Play this story in test mode"> <i class="fa fa-bug fa-lg"></i> Test </button> <button class="subtle" title="Play this story"> <i class="fa fa-play fa-lg"></i> Play </button> <button class="create" title="Add a new passage"> <i class="fa fa-plus fa-lg"></i> Passage </button> </div> </div> </div></div></div>

	
		<script src="./Green_files/codemirror.min.js"></script>
		<script src="./Green_files/placeholder.min.js"></script>
		<script src="./Green_files/show-hint.js"></script>
		<script src="./Green_files/css-hint.min.js"></script>
		<script src="./Green_files/javascript-hint.min.js"></script>
		<script src="./Green_files/css.min.js"></script>
		<script src="./Green_files/javascript.min.js"></script>
		<script src="./Green_files/core.min.js"></script>
		<script src="./Green_files/fastclick.min.js"></script>
		<script src="./Green_files/jed.min.js"></script>
		<script src="./Green_files/jszip.min.js"></script>
		<script src="./Green_files/moment-with-locales.min.js"></script>
		<script src="./Green_files/svg.min.js"></script>
		<script src="./Green_files/tether.min.js"></script>
		<script src="./Green_files/drop.min.js"></script>
		<script src="./Green_files/vue.min.js"></script>
		<script src="./Green_files/vue-router.min.js"></script>
		<script src="./Green_files/vuex.min.js"></script>
	

	<script src="./Green_files/twine.js"></script>


<div class="drop passage drop-element drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center drop-open-transitionend" style="top: 0px; left: 0px; position: absolute; transform: translateX(272px) translateY(150px) translateZ(0px);"><div class="drop-content"><div> <button class="danger subtle" title="Delete “start”"> <i class="fa fa-trash-o"></i> </button> <button title="Edit “start”"> <i class="fa fa-pencil"></i> </button> <button title="Test story starting here"> <i class="fa fa-play"></i> </button> <button data-drop-down-stay-open="yes" title="More passage options"> <i class="fa fa-ellipsis-h"></i> </button>  </div></div></div><div data-tether-id="1" style="top: 0px; left: 0px; position: absolute;"></div><div class="drop passage drop-element drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center drop-open-transitionend" style="top: 0px; left: 0px; position: absolute; transform: translateX(272px) translateY(275px) translateZ(0px);"><div class="drop-content"><div> <button class="danger subtle" title="Delete “wake”"> <i class="fa fa-trash-o"></i> </button> <button title="Edit “wake”"> <i class="fa fa-pencil"></i> </button> <button title="Test story starting here"> <i class="fa fa-play"></i> </button> <button data-drop-down-stay-open="yes" title="More passage options"> <i class="fa fa-ellipsis-h"></i> </button>  </div></div></div><div class="drop passage drop-element drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center drop-open-transitionend" style="top: 0px; left: 0px; position: absolute; transform: translateX(147px) translateY(150px) translateZ(0px);"><div class="drop-content"><div> <button class="danger subtle" title="Delete “scripts”"> <i class="fa fa-trash-o"></i> </button> <button title="Edit “scripts”"> <i class="fa fa-pencil"></i> </button> <button title="Test story starting here"> <i class="fa fa-play"></i> </button> <button data-drop-down-stay-open="yes" title="More passage options"> <i class="fa fa-ellipsis-h"></i> </button>  </div></div></div><div class="drop passage drop-element drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center drop-open-transitionend" style="top: 0px; left: 0px; position: absolute; transform: translateX(22px) translateY(150px) translateZ(0px);"><div class="drop-content"><div> <button class="danger subtle" title="Delete “hacks”"> <i class="fa fa-trash-o"></i> </button> <button title="Edit “hacks”"> <i class="fa fa-pencil"></i> </button> <button title="Test story starting here"> <i class="fa fa-play"></i> </button> <button data-drop-down-stay-open="yes" title="More passage options"> <i class="fa fa-ellipsis-h"></i> </button>  </div></div></div><div class="drop drop-element drop-element-attached-bottom drop-element-attached-left drop-target-attached-top drop-target-attached-left drop-open-transitionend drop-abutted drop-abutted-top" style="left: 0px; position: absolute; transform: translateX(48px) translateY(566px) translateZ(0px); top: 0px;"><div class="drop-content"><div> <ul class="menu"> <li> <button>Edit Story JavaScript</button> </li> <li> <button>Edit Story Stylesheet</button> </li> <li> <button>Change Story Format</button> </li> <li> <button>Rename Story</button> </li> <li> <button>Select All Passages</button> </li> <li class="checked"> <button>Snap to Grid</button> </li> <li> <button>Story Statistics</button> </li> <li class="divider"></li> <li> <button>View Proofing Copy</button> </li> <li> <button>Publish to File</button> </li> </ul> </div></div></div><div class="drop passage drop-element drop-element-attached-top drop-element-attached-center drop-target-attached-bottom drop-target-attached-center drop-open-transitionend" style="top: 0px; left: 0px; position: absolute; transform: translateX(22px) translateY(275px) translateZ(0px);"><div class="drop-content"><div> <button class="danger subtle" title="Delete “aframe”"> <i class="fa fa-trash-o"></i> </button> <button title="Edit “aframe”"> <i class="fa fa-pencil"></i> </button> <button title="Test story starting here"> <i class="fa fa-play"></i> </button> <button data-drop-down-stay-open="yes" title="More passage options"> <i class="fa fa-ellipsis-h"></i> </button>  </div></div></div><div class="modal-dialog-transition"> <div id="modal-overlay" class="fade-in-out-transition"></div> <div class="modal-dialog editor" style="transform-origin: 135.641px 584px 0px;"> <header> <h2 class="title"><span slot="title"> JavaScript </span></h2>  <button class="widen subtle"> <i class="fa fa-expand"></i>  </button> <button class="close subtle"> <i class="fa fa-times"></i> </button> </header> <div class="content">  <p> Any JavaScript entered here will immediately run when your story is opened in a Web browser. </p> <div class="expand"> <div><div class="CodeMirror cm-s-default CodeMirror-wrap CodeMirror-focused"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 235px; left: 202.469px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-vscrollbar" cm-not-content="true" style="display: block; bottom: 0px;"><div style="min-width: 1px; height: 1228px;"></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div style="height: 100%; min-height: 1px; width: 0px;"></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; padding-right: 15px; padding-bottom: 0px; margin-bottom: -15px; border-right-width: 15px; min-height: 1228px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines"><div style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre>x</pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"><div class="CodeMirror-selected" style="position: absolute; left: 202.469px; top: 580px; width: 469.531px; height: 20px;"></div><div class="CodeMirror-selected" style="position: absolute; left: 4px; top: 600px; width: 198px; height: 20px;"></div></div><div class="CodeMirror-cursors" style=""></div><div class="CodeMirror-code" style=""><pre class=""><span style="padding-right: 0.1px;"><span class="cm-comment">// Load in A-Frame</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-variable">sceneID</span> <span class="cm-operator">=</span> <span class="cm-string">'bddc6401-c106-4557-918e-e340a7457a10'</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">$</span>.<span class="cm-property">ajaxSetup</span>({</span></pre><pre class=""><span style="padding-right: 0.1px;">  <span class="cm-property">cache</span>: <span class="cm-atom">true</span></span></pre><pre class=""><span style="padding-right: 0.1px;">});</span></pre><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-variable">window</span>.<span class="cm-property">readyPromise</span> <span class="cm-operator">=</span> <span class="cm-variable">$</span>.<span class="cm-property">getScript</span>(<span class="cm-string">'https://aframe.io/releases/0.7.1/aframe.min.js'</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;">.<span class="cm-property">then</span>(() <span class="cm-operator">=&gt;</span> <span class="cm-variable">Promise</span>.<span class="cm-property">all</span>([</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">$</span>.<span class="cm-property">getScript</span>(<span class="cm-string">'https://dist.3d.io/3dio-js/1.1.x/3dio.min.js'</span>),</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">$</span>.<span class="cm-property">getScript</span>(<span class="cm-string">'https://cdn.rawgit.com/tizzle/aframe-orbit-controls-component/master/dist/aframe-orbit-controls-component.min.js'</span>),</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">$</span>.<span class="cm-property">getScript</span>(<span class="cm-string">'http://ada-a-frame.glitch.me/character-components.js'</span>),</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">$</span>.<span class="cm-property">getScript</span>(<span class="cm-string">'https://cdn.rawgit.com/donmccurdy/aframe-extras/09e5bd25/dist/aframe-extras.pathfinding.min.js'</span>),</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">$</span>.<span class="cm-property">getScript</span>(<span class="cm-string">'https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js'</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;">]))</span></pre><pre class=""><span style="padding-right: 0.1px;">.<span class="cm-property">then</span>(<span class="cm-keyword">function</span>() {</span></pre><pre class=""><span class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span></span></pre><pre class=""><span class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">AFRAME</span>.<span class="cm-property">registerComponent</span>(<span class="cm-string">'nav-pointer'</span>, {</span></pre><pre><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-property">init</span>: <span class="cm-keyword">function</span> () {</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-keyword">const</span> <span class="cm-def">el</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">el</span>;</span></pre><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// On click, send the NPC to the target location.</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable-2">el</span>.<span class="cm-property">addEventListener</span>(<span class="cm-string">'click'</span>, (<span class="cm-def">e</span>) <span class="cm-operator">=&gt;</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-keyword">const</span> <span class="cm-def">ctrlEl</span> <span class="cm-operator">=</span> <span class="cm-variable-2">el</span>.<span class="cm-property">sceneEl</span>.<span class="cm-property">querySelector</span>(<span class="cm-string">'[nav-controller]'</span>);</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable-2">ctrlEl</span>.<span class="cm-property">setAttribute</span>(<span class="cm-string">'nav-controller'</span>, {</span></pre><pre><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-property">active</span>: <span class="cm-atom">true</span>,</span></pre><pre><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-property">destination</span>: <span class="cm-variable-2">e</span>.<span class="cm-property">detail</span>.<span class="cm-property">intersection</span>.<span class="cm-property">point</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>});</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>});</span></pre><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// When hovering on the nav mesh, show a green cursor.</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable-2">el</span>.<span class="cm-property">addEventListener</span>(<span class="cm-string">'mouseenter'</span>, () <span class="cm-operator">=&gt;</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable-2">el</span>.<span class="cm-property">setAttribute</span>(<span class="cm-string">'material'</span>, {<span class="cm-property">color</span>: <span class="cm-string">'green'</span>});</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>});</span></pre><pre><span class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable-2">el</span>.<span class="cm-property">addEventListener</span>(<span class="cm-string">'mouseleave'</span>, () <span class="cm-operator">=&gt;</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable-2">el</span>.<span class="cm-property">setAttribute</span>(<span class="cm-string">'material'</span>, {<span class="cm-property">color</span>: <span class="cm-string">'crimson'</span>})</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>});</span></pre><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-comment">// Refresh the raycaster after models load.</span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable-2">el</span>.<span class="cm-property">sceneEl</span>.<span class="cm-property">addEventListener</span>(<span class="cm-string">'object3dset'</span>, () <span class="cm-operator">=&gt;</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-keyword">this</span>.<span class="cm-property">el</span>.<span class="cm-property">components</span>.<span class="cm-property">raycaster</span>.<span class="cm-property">refreshObjects</span>();</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>});</span></pre><pre><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span>}</span></pre><pre><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>});</span></pre><pre class=""><span class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">document</span>.<span class="cm-property">body</span>.<span class="cm-property">insertAdjacentHTML</span>(<span class="cm-string">'afterbegin'</span>, <span class="cm-variable">harlowe</span>.<span class="cm-property">macros</span>.<span class="cm-property">get</span>(<span class="cm-string">'passage'</span>)([<span class="cm-string">''</span>,<span class="cm-string">'aframe'</span>]).<span class="cm-property">get</span>(<span class="cm-string">'source'</span>));</span></pre><pre class=""><span class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span></span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-keyword">const</span> <span class="cm-def">sceneEl</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">querySelector</span>(<span class="cm-string">'a-scene'</span>);</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-keyword">return</span> <span class="cm-variable">io3d</span>.<span class="cm-property">scene</span>.<span class="cm-property">getAframeElements</span>(<span class="cm-variable">sceneID</span>)</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>.<span class="cm-property">then</span>(<span class="cm-def">elements</span> <span class="cm-operator">=&gt;</span> {</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable-2">sceneEl</span>.<span class="cm-property">querySelector</span>(<span class="cm-string">'#scene-target'</span>).<span class="cm-property">appendChild</span>(<span class="cm-variable-2">elements</span>[<span class="cm-number">0</span>]);</span></pre><pre class=""><span style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>});</span></pre><pre class=""><span style="padding-right: 0.1px;">})</span></pre><pre class=""><span style="padding-right: 0.1px;">.<span class="cm-property">catch</span>(<span class="cm-def">e</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable">console</span>.<span class="cm-property">log</span>(<span class="cm-variable">a</span>));</span></pre><pre class=""><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 15px; width: 1px; top: 1228px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1243px;"></div></div></div></div> </div> </div> </div> </div></body></html>